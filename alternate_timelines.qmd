#flight sims data stuff

#23 October - 4 December (6 weeks)
#23 October - 11 December (4 weeks)

```{r,collapse=TRUE}
source("R/flight_sims_for_specific_days.R")



d4 <- flight_sim_specific_days(start_day = as_date("2023-10-23"),
                               end_day = as_date("2023-12-04"),
                               quality_threshold = 0.05, 
                               max_wind_speed = 5,
                               wind_speed_threshold = 0.1,
                               use_julian = TRUE)


n15 <- flight_sim_specific_days(start_day = as_date("2023-10-23"),
                               end_day = as_date("2023-11-15"),
                               quality_threshold = 0.05, 
                               max_wind_speed = 5,
                               wind_speed_threshold = 0.1,
                               use_julian = TRUE)



d4 %>%
  filter(!is.na(box_id))%>%
  group_by(start_date)%>%
  summarise(sites_done = sum(!is.na(box_id)),
            mean_cc = mean(na.omit(mean_cloud_cover)),
            median_wind = median(na.omit(median_wind_speed)),
            days_taken = max(date)-min(start_date)+1)-> d4_sum

n15 %>%
  filter(!is.na(box_id))%>%
  group_by(start_date)%>%
  summarise(sites_done = sum(!is.na(box_id)),
            mean_cc = mean(na.omit(mean_cloud_cover)),
            median_wind = median(na.omit(median_wind_speed)),
            days_taken = max(date)-min(start_date)+1)-> n15_sum

```

```{r}

data.frame(end_date = "12_04",
           d4_sum) %>%
  bind_rows(data.frame(end_date = "12_11",
                       d11_sum)
  ) %>%
  ggplot(mapping = aes(x=end_date,y=sites_done))+
  geom_violin()+
  geom_boxplot(width=0.1)+
  stat_summary(fun.y=mean, geom="point", shape=23, size=2,fill="red")
  
```

```{r}






```



